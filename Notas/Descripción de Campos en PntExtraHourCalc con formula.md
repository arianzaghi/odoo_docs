# Descripción de Campos en PntExtraHourCalc

A continuación, se presenta una tabla con todos los campos del modelo `PntExtraHourCalc`, incluyendo tanto los calculados como los no calculados, su nombre técnico, la descripción de su cálculo o propósito en lenguaje natural, y, para los campos calculados, la fórmula matemática correspondiente. Para los campos no calculados, la columna de fórmula se deja vacía.

| Nombre del Campo                                             | Nombre Técnico                             | Cálculo o Propósito en Lenguaje Natural                                                                                                                                                                                                                         | Cálculo en Fórmula Matemática                                                                                                                                                                                       |
| ------------------------------------------------------------ | ------------------------------------------ | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| Nombre                                                       | pnt_id                                     | Concatenación del nombre del empleado y la fecha en formato AAAA-MM-DD, separados por un espacio.                                                                                                                                                               | `pnt_id = nombre_empleado + " " + fecha_formato_YYYY-MM-DD`                                                                                                                                                         |
| Día Actual                                                   | pnt_day                                    | Fecha correspondiente al día para el que se realiza el cálculo de horas. Se asigna manualmente o al crear el registro.                                                                                                                                          | -                                                                                                                                                                                                                   |
| Empleado                                                     | pnt_employee_id                            | Referencia al empleado propietario del registro. Se asigna al crear el registro, vinculando al empleado correspondiente.                                                                                                                                        | -                                                                                                                                                                                                                   |
| Calendario de Empleado Utilizado                             | pnt_calendar_id                            | Calendario de recursos asociado al empleado, que define las horas teóricas de trabajo. Se asigna al crear el registro.                                                                                                                                          | -                                                                                                                                                                                                                   |
| Asistencias en el Día                                        | pnt_attendance_ids                         | Lista de asistencias registradas para el día actual, vinculadas al cálculo de horas extra. Se asignan automáticamente al registrar asistencias asociadas.                                                                                                       | -                                                                                                                                                                                                                   |
| Ausencias en el Día                                          | pnt_leave_ids                              | Lista de ausencias registradas para el día actual, vinculadas al cálculo. Se asignan automáticamente al registrar ausencias validadas.                                                                                                                          | -                                                                                                                                                                                                                   |
| Peticiones Generadas                                         | pnt_petition_ids                           | Lista de peticiones de horas extra generadas para el día. Se asignan al crear o vincular peticiones al registro.                                                                                                                                                | -                                                                                                                                                                                                                   |
| Contador de Peticiones                                       | pnt_petition_ids_count                     | Número total de peticiones asociadas al registro del día.                                                                                                                                                                                                       | `pnt_petition_ids_count =                                                                                                                                                                                           |
| Horas Normales                                               | pnt_regular_hour                           | Horas trabajadas en horario regular, asignadas manualmente o a través de la actualización de peticiones aceptadas.                                                                                                                                              | -                                                                                                                                                                                                                   |
| Enfermedad sin Baja                                          | pnt_unpaid_sickness                        | Suma de las horas de ausencias validadas por enfermedad no remunerada. Si la ausencia es de un solo día, se toma el mínimo entre las horas de la ausencia y las horas trabajables diarias; si es de varios días, se toman todas las horas trabajables del día.  | `pnt_unpaid_sickness = ∑(min(horas_ausencia, horas_trabajables_diarias) si es_un_día, horas_trabajables_diarias si no)`                                                                                             |
| Enfermedad con Baja                                          | pnt_paid_sickness                          | Suma de las horas de ausencias validadas por enfermedad remunerada. Si la ausencia es de un solo día, se toma el mínimo entre las horas de la ausencia y las horas trabajables diarias; si es de varios días, se toman todas las horas trabajables del día.     | `pnt_paid_sickness = ∑(min(horas_ausencia, horas_trabajables_diarias) si es_un_día, horas_trabajables_diarias si no)`                                                                                               |
| Permiso Remunerado                                           | pnt_paid_leave                             | Suma de las horas de ausencias validadas por permisos remunerados. Si la ausencia es de un solo día, se toma el mínimo entre las horas de la ausencia y las horas trabajables diarias; si es de varios días, se toman todas las horas trabajables del día.      | `pnt_paid_leave = ∑(min(horas_ausencia, horas_trabajables_diarias) si es_un_día, horas_trabajables_diarias si no)`                                                                                                  |
| Permiso No Remunerado                                        | pnt_unpaid_leave                           | Suma de las horas de ausencias validadas por permisos no remunerados. Si la ausencia es de un solo día, se toma el mínimo entre las horas de la ausencia y las horas trabajables diarias; si es de varios días, se toman todas las horas trabajables del día.   | `pnt_unpaid_leave = ∑(min(horas_ausencia, horas_trabajables_diarias) si es_un_día, horas_trabajables_diarias si no)`                                                                                                |
| Días de Libre Disposición                                    | pnt_free_disposal_days                     | Suma de las horas de ausencias validadas por días de libre disposición. Si la ausencia es de un solo día, se toma el mínimo entre las horas de la ausencia y las horas trabajables diarias; si es de varios días, se toman todas las horas trabajables del día. | `pnt_free_disposal_days = ∑(min(horas_ausencia, horas_trabajables_diarias) si es_un_día, horas_trabajables_diarias si no)`                                                                                          |
| Vacaciones                                                   | pnt_holidays                               | Suma de las horas de ausencias validadas por vacaciones. Si la ausencia es de un solo día, se toma el mínimo entre las horas de la ausencia y las horas trabajables diarias; si es de varios días, se toman todas las horas trabajables del día.                | `pnt_holidays = ∑(min(horas_ausencia, horas_trabajables_diarias) si es_un_día, horas_trabajables_diarias si no)`                                                                                                    |
| Teletrabajo                                                  | pnt_remote_work                            | Suma de la duración de las peticiones aceptadas marcadas como teletrabajo.                                                                                                                                                                                      | `pnt_remote_work = ∑(duración_peticiones_aceptadas_con_teletrabajo)`                                                                                                                                                |
| Visita Externa                                               | pnt_external_visit                         | Suma de la duración de las peticiones aceptadas marcadas como visita externa.                                                                                                                                                                                   | `pnt_external_visit = ∑(duración_peticiones_aceptadas_con_visita_externa)`                                                                                                                                          |
| Trabajo Presencial                                           | pnt_regular_schedule                       | Suma de la duración de las peticiones aceptadas que no son ni teletrabajo ni visita externa.                                                                                                                                                                    | `pnt_regular_schedule = ∑(duración_peticiones_aceptadas_sin_teletrabajo_ni_visita_externa)`                                                                                                                         |
| Horas Extra                                                  | pnt_extra_hour                             | Horas extra trabajadas en horario diurno y no festivo, asignadas manualmente o a través de la actualización de peticiones aceptadas.                                                                                                                            | -                                                                                                                                                                                                                   |
| Horas Festivas                                               | pnt_festive_hour                           | Horas trabajadas en días festivos, asignadas manualmente o a través de la actualización de peticiones aceptadas.                                                                                                                                                | -                                                                                                                                                                                                                   |
| Horas Nocturnas                                              | pnt_night_hour                             | Horas trabajadas en horario nocturno, asignadas manualmente o a través de la actualización de peticiones aceptadas.                                                                                                                                             | -                                                                                                                                                                                                                   |
| Horas Nocturnas Festivas                                     | pnt_festive_night_hour                     | Horas trabajadas en horario nocturno durante días festivos, asignadas manualmente o a través de la actualización de peticiones aceptadas.                                                                                                                       | -                                                                                                                                                                                                                   |
| Horas Extra Festivas                                         | pnt_extra_festive_hour                     | Horas extra trabajadas en días festivos, asignadas manualmente o a través de la actualización de peticiones aceptadas.                                                                                                                                          | -                                                                                                                                                                                                                   |
| Horas Extra Nocturnas                                        | pnt_extra_night_hour                       | Horas extra trabajadas en horario nocturno, asignadas manualmente o a través de la actualización de peticiones aceptadas.                                                                                                                                       | -                                                                                                                                                                                                                   |
| Horas Extra Festivas Nocturnas                               | pnt_extra_festive_night_hour               | Horas extra trabajadas en horario nocturno durante días festivos, asignadas manualmente o a través de la actualización de peticiones aceptadas.                                                                                                                 | -                                                                                                                                                                                                                   |
| Bonificación por Horas Extra                                 | pnt_bon_extra_hour                         | Horas extra multiplicadas por el coeficiente de ponderación para horas extra, obtenido del período activo correspondiente.                                                                                                                                      | `pnt_bon_extra_hour = pnt_extra_hour × coeficiente_extra`                                                                                                                                                           |
| Bonificación por Horas Festivas                              | pnt_bon_festive_hour                       | Horas festivas multiplicadas por el coeficiente de ponderación para horas festivas, obtenido del período activo correspondiente.                                                                                                                                | `pnt_bon_festive_hour = pnt_festive_hour × coeficiente_festivo`                                                                                                                                                     |
| Bonificación por Horas Nocturnas                             | pnt_bon_night_hour                         | Horas nocturnas multiplicadas por el coeficiente de ponderación para horas nocturnas, obtenido del período activo correspondiente.                                                                                                                              | `pnt_bon_night_hour = pnt_night_hour × coeficiente_nocturno`                                                                                                                                                        |
| Bonificación por Horas Nocturnas Festivas                    | pnt_bon_festive_night_hour                 | Horas nocturnas festivas multiplicadas por la suma de los coeficientes de ponderación para horas festivas y nocturnas, obtenido del período activo correspondiente.                                                                                             | `pnt_bon_festive_night_hour = pnt_festive_night_hour × (coeficiente_festivo + coeficiente_nocturno)`                                                                                                                |
| Bonificación por Horas Extra Festivas                        | pnt_bon_extra_festive_hour                 | Horas extra festivas multiplicadas por la suma de los coeficientes de ponderación para horas extra y festivas, obtenido del período activo correspondiente.                                                                                                     | `pnt_bon_extra_festive_hour = pnt_extra_festive_hour × (coeficiente_extra + coeficiente_festivo)`                                                                                                                   |
| Bonificación por Horas Extra Nocturnas                       | pnt_bon_extra_night_hour                   | Horas extra nocturnas multiplicadas por la suma de los coeficientes de ponderación para horas extra y nocturnas, obtenido del período activo correspondiente.                                                                                                   | `pnt_bon_extra_night_hour = pnt_extra_night_hour × (coeficiente_extra + coeficiente_nocturno)`                                                                                                                      |
| Bonificación por Horas Extra Festivas Nocturnas              | pnt_bon_extra_<br>festive_night_hour       | Horas extra festivas nocturnas multiplicadas por la suma de los coeficientes de ponderación para horas extra, festivas y nocturnas, obtenido del período activo correspondiente.                                                                                | `pnt_bon_extra_festive_night_hour = pnt_extra_festive_night_hour × (coeficiente_extra + coeficiente_festivo + coeficiente_nocturno)`                                                                                |
| Total Horas Extra                                            | pnt_total_extra_hours                      | Suma de las horas extra, horas festivas, horas nocturnas, horas festivas nocturnas, horas extra festivas, horas extra nocturnas y horas extra festivas nocturnas.                                                                                               | `pnt_total_extra_hours = pnt_extra_hour + pnt_festive_hour + pnt_night_hour + pnt_festive_night_hour + pnt_extra_festive_hour + pnt_extra_night_hour + pnt_extra_festive_night_hour`                                |
| Total Horas                                                  | pnt_total_hours                            | Suma de las horas regulares y el total de horas extra.                                                                                                                                                                                                          | `pnt_total_hours = pnt_regular_hour + pnt_total_extra_hours`                                                                                                                                                        |
| Total Horas Bonificadas                                      | pnt_total_bonified_hours                   | Suma de las horas bonificadas por horas extra, festivas, nocturnas, festivas nocturnas, extra festivas, extra nocturnas y extra festivas nocturnas.                                                                                                             | `pnt_total_bonified_hours = pnt_bon_extra_hour + pnt_bon_festive_hour + pnt_bon_night_hour + pnt_bon_festive_night_hour + pnt_bon_extra_festive_hour + pnt_bon_extra_night_hour + pnt_bon_extra_festive_night_hour` |
| Total Horas de Ausencia                                      | pnt_total_leave_hours                      | Suma de las horas de enfermedad sin baja, enfermedad con baja, permiso remunerado, permiso no remunerado, días de libre disposición y vacaciones.                                                                                                               | `pnt_total_leave_hours = pnt_unpaid_sickness + pnt_paid_sickness + pnt_paid_leave + pnt_unpaid_leave + pnt_free_disposal_days + pnt_holidays`                                                                       |
| Horas Trabajables Restantes                                  | pnt_remaining_workable_hours               | Máximo entre 0 y la diferencia entre el máximo de horas trabajables y el total de horas trabajadas.                                                                                                                                                             | `pnt_remaining_workable_hours = max(pnt_max_workable_hours - pnt_total_hours, 0)`                                                                                                                                   |
| Máximo de Horas Trabajables                                  | pnt_max_workable_hours                     | Horas diarias teóricas del empleado según su calendario, menos el total de horas de ausencia.                                                                                                                                                                   | `pnt_max_workable_hours = horas_diarias_teóricas - pnt_total_leave_hours`                                                                                                                                           |
| Máximo de Horas Trabajables en Fin de Semana o Día Laborable | pnt_weekend_weekday_<br>max_workable_hours | Si el día es fin de semana o festivo, igual al mínimo de horas trabajables; si es un día laborable, igual al máximo de horas trabajables.                                                                                                                       | `pnt_weekend_weekday_max_workable_hours = pnt_min_workable_hours si es_fin_de_semana_o_festivo, pnt_max_workable_hours si no`                                                                                       |
| Mínimo de Horas Trabajables                                  | pnt_min_workable_hours                     | Si el día es fin de semana o festivo, igual a 0; si es un día laborable, igual al máximo de horas trabajables.                                                                                                                                                  | `pnt_min_workable_hours = 0 si es_fin_de_semana_o_festivo, pnt_max_workable_hours si no`                                                                                                                            |
| Horas Pagadas + Bonificación                                 | pnt_paid_hours_and_bonified                | Suma de las horas totales trabajadas y las horas bonificadas.                                                                                                                                                                                                   | `pnt_paid_hours_and_bonified = pnt_total_hours + pnt_total_bonified_hours`                                                                                                                                          |
| Saldo                                                        | pnt_balance                                | Diferencia entre las horas pagadas más bonificaciones y el mínimo de horas trabajables.                                                                                                                                                                         | `pnt_balance = pnt_paid_hours_and_bonified - pnt_min_workable_hours`                                                                                                                                                |
